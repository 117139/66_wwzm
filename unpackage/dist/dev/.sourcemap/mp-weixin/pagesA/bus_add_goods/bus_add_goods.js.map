{"version":3,"sources":["uni-app:///main.js","webpack:///H:/phpStudy/WWW/66_wwzm/pagesA/bus_add_goods/bus_add_goods.vue?2658","webpack:///H:/phpStudy/WWW/66_wwzm/pagesA/bus_add_goods/bus_add_goods.vue?0e16","webpack:///H:/phpStudy/WWW/66_wwzm/pagesA/bus_add_goods/bus_add_goods.vue?6e0f","webpack:///H:/phpStudy/WWW/66_wwzm/pagesA/bus_add_goods/bus_add_goods.vue?406d","uni-app:///pagesA/bus_add_goods/bus_add_goods.vue","webpack:///H:/phpStudy/WWW/66_wwzm/pagesA/bus_add_goods/bus_add_goods.vue?5361"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","htmlReset","__map","datas","item","idx","$orig","__get_orig","m0","getimg","cover","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,2D,mDACAA,EAAWC,a;;;;2DCHX,oUACIC,EADJ,8JASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yCACZ,aAAAF,E;;;;2GCvBf,olC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GAEA,GAAjBN,EAAIO,UACAP,EAAIQ,MAAMR,EAAIS,OAAO,SAASC,EAAMC,GAClC,IAAIC,EAAQZ,EAAIa,WAAWH,GAEvBI,EAAKd,EAAIe,OAAOL,EAAKM,OACzB,MAAO,CACLJ,MAAOA,EACPE,GAAIA,MAGR,MACNd,EAAIiB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLjB,GAAIA,MAKRkB,GAAmB,EACnBC,EAAkB,GACtBxB,EAAOyB,eAAgB,G;;;;2DC5BvB,+sBAAwpB,eAAG,G;;;;0IC6D3pB,IAMA,EANA,oBACA,iCACA,mB,gvBAKA,CACA,KADA,WAEA,OACA,SACA,OACA,QACA,OACA,WACA,aACA,eAGA,eACA,+EAEA,OAfA,WAgBA,OACA,aAEA,kBAnBA,WAoBA,gBAEA,cAtBA,WAuBA,gBAEA,gBACA,gFADA,IAEA,QAFA,WAGA,YACA,cACA,kBAEA,gBAEA,QATA,SASA,GAEA,iBAGA,MACA,KAQA,GAPA,GACA,iCACA,YACA,aAEA,gBAEA,gBAGA,cAGA,eACA,iBAEA,aACA,uCAGA,GAFA,WACA,eACA,WACA,cACA,aAQA,GAPA,sBAEA,qBACA,iBAEA,eAEA,KAEA,cACA,CACA,eAEA,YADA,gBAGA,eACA,0BAEA,iCACA,qCACA,mCACA,6DACA,mBAGA,mDACA,sCAKA,qBACA,cAGA,cACA,MACA,aACA,YACA,cAGA,aACA,YACA,oBAIA,mBACA,cACA,WACA,eACA,aACA,YACA,iCAMA,SAnGA,WAoGA,MACA,OAEA,EADA,YAKA,QACA,iCAEA,EACA,6BAGA,4BAIA,cAGA,OAzHA,SAyHA,GACA,WAEA,gBAeA,6BAbA,6BAeA,SACA,qBACA,qBACA,KACA,MAGA,eAMA,MAJA,KAYA,cAIA,MAtKA,SAsKA,KAUA,OARA,eAKA,OACA,yBAEA,iBAKA,0BAJA,mBACA,QASA,OACA,QAEA,UAOA,SArMA,WAsMA,QACA,aACA,eACA,eACA,mCAKA,qBACA,YAEA,OAlNA,SAkNA,GACA,4BAEA,OArNA,SAqNA,GACA,qBAEA,QAxNA,SAwNA,GACA,6BAEA,OA3NA,SA2NA,GAKA,WAEA,aACA,KACA,eACA,cACA,gBAIA,YAQA,aACA,WACA,oBACA,oBACA,cAEA,GADA,sBACA,WACA,OAEA,UAEA,cACA,sBACA,GACA,yBACA,KACA,YAEA,wCAGA,GAFA,WACA,eACA,WACA,aACA,sBAEA,qBACA,iBAEA,eAEA,aACA,YACA,eAEA,uBACA,cACA,UAEA,MACA,aACA,YACA,cAGA,aACA,YACA,kBAIA,mBACA,WACA,eACA,aACA,YACA,mCAGA,UACA,yBAlEA,aACA,YACA,mBAsEA,UAnTA,WAoTA,WACA,UACA,KAGA,eACA,2BACA,cACA,OACA,WACA,yBAEA,UAYA,cAGA,WACA,kBAEA,aACA,YACA,eAEA,uBACA,WACA,eACA,gBACA,YAEA,OAGA,KA/VA,SA+VA,GACA,WAEA,aAGA,UACA,uBACA,YACA,KAGA,uB;;;;2DCxcA,sgCAA+8B,eAAG,G","file":"pagesA/bus_add_goods/bus_add_goods.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesA/bus_add_goods/bus_add_goods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bus_add_goods.vue?vue&type=template&id=6081865f&scoped=true&\"\nvar renderjs\nimport script from \"./bus_add_goods.vue?vue&type=script&lang=js&\"\nexport * from \"./bus_add_goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bus_add_goods.vue?vue&type=style&index=0&id=6081865f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6081865f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/bus_add_goods/bus_add_goods.vue\"\nexport default component.exports","export * from \"-!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bus_add_goods.vue?vue&type=template&id=6081865f&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.htmlReset == 0\n      ? _vm.__map(_vm.datas, function(item, idx) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 = _vm.getimg(item.cover)\n          return {\n            $orig: $orig,\n            m0: m0\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bus_add_goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bus_add_goods.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"min-height: 100vh;background: #fafafa;padding-bottom: 150upx;\">\r\n\t\t\r\n\t\t<view v-if=\"htmlReset==1\" class=\"zanwu\" @tap='onRetry'>请求失败，请点击重试</view>\r\n\t\t<view v-if=\"htmlReset==-1\"  class=\"loading_def\">\r\n\t\t\t\t<image class=\"loading_def_img\" src=\"../../static/images/loading.gif\" mode=\"\"></image>\r\n\t\t</view>\r\n\t\t<block v-if=\"htmlReset==0\">\r\n\t\t\t<view class=\"goods\">\r\n\t\t\t\r\n\t\t\t\t<view class=\"goods1\" v-for=\"(item,idx) in datas\" :data-tab=\"idx\">\r\n\t\t\t\r\n\t\t\t\t\t<view class=\"xuanze\" @tap.stop=\"select(idx)\">\r\n\t\t\t\t\t\t<view class=\"xuanze1 \" :class=\"item.xuan==true? 'xuanze2':''\">\r\n\t\t\t\t\t\t\t<text v-if=\"item.xuan==true\" class=\"iconfont iconduigou\" style=\"color: #F4691A;\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"goodsImg\" @tap=\"jump\" :data-url=\"'/pages/details/details?id='+item.id\">\r\n\t\t\t\t\t\t<image class=\"goodsImg\" :lazy-load='true' :src=\"getimg(item.cover)\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"goodsinr\" @tap=\"jump\" :data-url=\"'/pages/details/details?id='+item.id\">\r\n\t\t\t\t\t\t<view class=\"goodsname fz30 c30 oh1\">{{item.title}}</view>\r\n\t\t\t\t\t\t<view class=\"goodsname1\">\r\n\t\t\t\t\t\t\t<text>{{item.description}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"dis_flex aic ju_b\">\r\n\t\t\t\t\t\t\t<view class=\"goodspri1\">\r\n\t\t\t\t\t\t\t\t<text style=\"font-size: 24upx;\">￥</text><text class=\"\">{{item.price}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"goodspri1\">\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- <text class=\"fz30 c9\">库存：{{item.sku_number}}</text> -->\r\n\t\t\t\t\t\t\t\t<text class=\"fz30 c9\" v-if=\"item.sku_number < item.number\">库存不足</text>\r\n\t\t\t\t\t\t\t\t<text class=\"fz30 c9\" v-else></text>\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.xuan==true\" class=\"vstepper steppera\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.num==1\" class=\"vantjian c9\" style=\"color: #aaa;\">-</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else @tap.stop=\"onNum(item,'-')\" :data-idx=\"idx\" data-ad=\"-\" :data-id=\"item.id\" class=\"vantjian\">-</view>\r\n\t\t\t\t\t\t\t\t\t<input class=\"vanipt c6\" disabled :value=\"item.num?item.num:1\"></input>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.num==item.number\" style=\"color: #aaa;\" class=\"vantjia\">+</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else @tap.stop=\"onNum(item,'+')\" :data-idx=\"idx\" data-ad=\"+\" :data-id=\"item.id\" class=\"vantjia\">+</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"datas.length==0\" class=\"zanwu\">暂无数据</view>\r\n\t\t\t\t<view v-if=\"data_last\" class=\"data_last\">我可是有底线的哟~~~</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"pl_bbox\">\r\n\t\t\t\t<view class=\"xq_cz dis_flex aic ju_b\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"jiesuan\" @tap=\"openOrder\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Vue from 'vue'\r\n\timport service from '../../service.js';\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\tvar that\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdatas: [],\r\n\t\t\t\tpage:1,\r\n\t\t\t\tsize:20,\r\n\t\t\t\tall:false,\r\n\t\t\t\tsum: '0.00',\r\n\t\t\t\thtmlReset:-1,\r\n\t\t\t\tdata_last:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['hasLogin', 'forcedLogin', 'userName', 'loginDatas', 'add_goods']),\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthat = this\r\n\t\t\tthat.onRetry()\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.onRetry()\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tthis.getdata()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['login', 'logindata', 'logout', 'setplatform','setadd_goods']),\r\n\t\t\tonRetry() {\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.datas = []\r\n\t\t\t\tthis.data_last = false\r\n\t\t\t\r\n\t\t\t\tthis.getdata()\r\n\t\t\t},\r\n\t\t\tgetdata(num) {\r\n\t\t\t\t\r\n\t\t\t\tif (that.data_last) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tvar datas\r\n\t\t\t\tvar jkurl = ''\r\n\t\t\t\t\tdatas = {\r\n\t\t\t\t\t\ttoken: that.loginDatas.userToken || '',\r\n\t\t\t\t\t\tpage: that.page,\r\n\t\t\t\t\t\tsize: that.size,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjkurl = '/goods/list'\r\n\t\t\t\t\r\n\t\t\t\tif (this.btn_kg == 1) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.btn_kg = 1\r\n\t\t\t\t//selectSaraylDetailByUserCard\r\n\t\t\t\t\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在获取数据'\r\n\t\t\t\t})\r\n\t\t\t\tvar page_that = that.page\r\n\t\t\t\tservice.P_get(jkurl, datas).then(res => {\r\n\t\t\t\t\tthat.btn_kg = 0\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tthat.htmlReset=0\r\n\t\t\t\t\t\tvar datas = res.data\r\n\t\t\t\t\t\tconsole.log(typeof datas)\r\n\t\t\t\r\n\t\t\t\t\t\tif (typeof datas == 'string') {\r\n\t\t\t\t\t\t\tdatas = JSON.parse(datas)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\r\n\t\t\t\t\t\tif (page_that == 1) {\r\n\t\t\t\r\n\t\t\t\t\t\t\tthat.datas = datas\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (datas.length == 0) {\r\n\t\t\t\t\t\t\t\tthat.data_last = true\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.data_last = false\r\n\t\t\t\t\t\t\tthat.datas = that.datas.concat(datas)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor(var i=0;i<that.datas.length;i++){\r\n\t\t\t\t\t\t\tfor(var j=0;j<that.add_goods.length;j++){\r\n\t\t\t\t\t\t\t\tif(that.datas[i].id==that.add_goods[j].id){\r\n\t\t\t\t\t\t\t\t\tconsole.log(that.datas[i].id==that.add_goods[j].id,that.datas[i].num)\r\n\t\t\t\t\t\t\t\t\tif(that.datas[i].num>0){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tVue.set(that.datas[i],'num',that.add_goods[j].num)\r\n\t\t\t\t\t\t\t\t\t\tVue.set(that.datas[i],'xuan',true)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(that.datas)\r\n\t\t\t\t\t\tthat.page++\r\n\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.htmlReset=1\r\n\t\t\t\t\t\tif (res.msg) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\ttitle: '获取数据失败'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\t\tthat.htmlReset=1\r\n\t\t\t\t\tthat.btn_kg = 0\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '获取数据失败，请检查您的网络连接'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tselecAll() {\r\n\t\t\t\tlet kg\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif (this.all == false) {\r\n\t\t\t\t\tkg = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tkg = false\r\n\t\t\t\t}\r\n\t\t\t\tthat.all = kg\r\n\t\t\t\tfor (var i = 0; i < that.datas.length; i++) {\r\n\r\n\t\t\t\t\tif (kg) {\r\n\t\t\t\t\t\tthat.$set(that.datas[i], 'xuan', true)\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.$set(that.datas[i], 'xuan', kg)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthat.countpri()\r\n\t\t\t},\r\n\r\n\t\t\tselect(idx) {\r\n\t\t\t\tlet that = this\r\n\r\n\t\t\t\tif (!that.datas[idx].xuan) {\r\n\t\t\t\t\t//if(that.datas[idx].sku_number>=that.datas[idx].number){ //库存充足是可以点击\r\n\t\t\t\t\tthat.$set(that.datas[idx], 'xuan', true)\r\n\t\t\t\t\t/*}else if(that.datas[idx].sku_number>0){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '该商品库存不足请减少购买数量'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '该商品库存不足'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}*/\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.$set(that.datas[idx], 'xuan', false)\r\n\t\t\t\t}\r\n\t\t\t\tlet qx = true\r\n\t\t\t\tfor (let i in that.datas) {\r\n\t\t\t\t\tif (!that.datas[i].xuan) {\r\n\t\t\t\t\t\tqx = false\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(qx)\r\n\t\t\t\t//触发全选\r\n\t\t\t\tif (qx == true) {\r\n\t\t\t\t\t// that.setData({\r\n\t\t\t\t\t//   all: true\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tthat.all = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.all = false\r\n\t\t\t\t\t// that.setData({\r\n\t\t\t\t\t//   all: false\r\n\t\t\t\t\t// })\r\n\t\t\t\t}\r\n\t\t\t\t// //计算总价\r\n\t\t\t\tthat.countpri()\r\n\t\t\t},\r\n\t\t\t//加减\r\n\t\t\t// onNum(e) {\r\n\t\t\tonNum(item,ad) {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tconsole.log(item)\r\n\t\t\t\t// console.log(e.currentTarget.dataset)\r\n\t\t\t\t// let ad = e.currentTarget.dataset.ad\r\n\t\t\t\t// let id = e.currentTarget.dataset.id\r\n\t\t\t\t// let thisidx = e.currentTarget.dataset.idx\r\n\t\t\t\tif(!item.num){\r\n\t\t\t\t\tVue.set(item,'num',1)\r\n\t\t\t\t}\r\n\t\t\t\tif (item.num < 2 && ad == '-') {\r\n\t\t\t\t\tconsole.log('禁止')\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif (item.num >item.number-1 && ad == '+') {\r\n\t\t\t\t\tconsole.log('禁止')\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (ad == '-') {\r\n\t\t\t\t\titem.num--\r\n\t\t\t\t} else {\r\n\t\t\t\t\titem.num++\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t},\r\n\t\t\t/*计算价格*/\r\n\t\t\tcountpri() {\r\n\t\t\t  let heji = 0\r\n\t\t\t  let var2 = this.datas\r\n\t\t\t  for (let i in var2) {\r\n\t\t\t    if (var2[i].xuan == true) {\r\n\t\t\t      heji += var2[i].quantity * (var2[i].price * 100)\r\n\t\t\t\r\n\t\t\t    }\r\n\t\t\t  }\r\n\t\t\t\r\n\t\t\t  heji = (heji / 100).toFixed(2)\r\n\t\t\t\tthis.sum=heji\r\n\t\t\t},\r\n\t\t\tgetimg(img) {\r\n\t\t\t\treturn service.getimg(img)\r\n\t\t\t},\r\n\t\t\tpveimg(e) {\r\n\t\t\t\tservice.pveimg(e)\r\n\t\t\t},\r\n\t\t\tget_fwb(str) {\r\n\t\t\t\treturn service.get_fwb(str)\r\n\t\t\t},\r\n\t\t\tcardel(e) {\r\n\t\t\t  // wx.showToast({\r\n\t\t\t  //   title: '删除成功',\r\n\t\t\t  // })\r\n\t\t\t  // return\r\n\t\t\t  var that = this\r\n\t\t\t  \r\n\t\t\t  let var2 = this.datas\r\n\t\t\t\tvar c_ids=[]\r\n\t\t\t\tfor (let i in var2) {\r\n\t\t\t\t  if (var2[i].xuan == true) {\r\n\t\t\t\t    c_ids.push(var2[i].id)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\tif(c_ids.length==0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\ttitle:'请选择您的收藏'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t    title: '提示',\r\n\t\t\t\t    content: '是否删除这些商品？',\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t            console.log('用户点击确定');\r\n\t\t\t\t\t\t\t\t\t\tif (that.btnkg == 1) {\r\n\t\t\t\t\t\t\t\t\t\t  return\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t  that.btnkg= 1\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tc_ids=c_ids.join(',')\r\n\t\t\t\t\t\t\t\t\t\tvar jkurl='/user/defined'\r\n\t\t\t\t\t\t\t\t\t\tvar datas={\r\n\t\t\t\t\t\t\t\t\t\t\ttoken:that.loginDatas.token,\r\n\t\t\t\t\t\t\t\t\t\t\tid:c_ids,\r\n\t\t\t\t\t\t\t\t\t\t\ttype:'del'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tservice.P_post(jkurl, datas).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.btn_kg = 0\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar datas = res.data\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(typeof datas)\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof datas == 'string') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatas = JSON.parse(datas)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '操作成功'\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.onRetry()\r\n\t\t\t\t\t\t\t\t\t\t\t\t},500)\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.msg) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '操作失败'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}).catch(e => {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.btn_kg = 0\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '获取数据失败，请检查您的网络连接'\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\topenOrder() {\r\n\t\t\t  let that = this\r\n\t\t\t  let xuanG = that.datas\r\n\t\t\t  let idG = []\r\n\t\t\t  var xzarr = []\r\n\t\t\t\tvar kc_tip=false\r\n\t\t\t\tconsole.log(xuanG)\r\n\t\t\t\tfor(var i=0; i<xuanG.length;i++){\r\n\t\t\t    if (xuanG[i].xuan) {\r\n\t\t\t\t\t\tvar newa={\r\n\t\t\t\t\t\t\tid:xuanG[i].id,\r\n\t\t\t\t\t\t\tnum:xuanG[i].num?xuanG[i].num:1,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tidG.push(newa)\r\n\t\t\t\t\r\n\t\t\t    }\r\n\t\t\t\r\n\t\t\t  }\r\n\t\t\t\t// if(idG.length==0){\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ticon: 'none',\r\n\t\t\t\t// \t\ttitle: '请选择商品'\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \treturn\r\n\t\t\t\t// }\r\n\t\t\t\tif(that.btn_kg==1){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthat.btn_kg=1\r\n\t\t\t\tthat.setadd_goods(idG)\r\n\t\t\t\t\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '操作成功'\r\n\t\t\t\t})\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthat.btn_kg=0\r\n\t\t\t\t\tconsole.log(idG)\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta:1\r\n\t\t\t\t\t})\r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tjump(e) {\r\n\t\t\t\tvar that = this\r\n\r\n\t\t\t\tif (that.btnkg == 1) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.btnkg = 1\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tthat.btnkg = 0\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tservice.jump(e)\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.goods {\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tpadding: 20upx 30upx;\r\n\t}\r\n\r\n\t.goods1 {\r\n\t\twidth: 100%;\r\n\t\tpadding: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\talign-items: stretch;\r\n\t\t/* align-items: flex-start; */\r\n\t\t/* border-bottom: 1px solid #ddd; */\r\n\t\tposition: relative;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin-bottom: 20upx;\r\n\r\n\t\tborder-radius: 10upx;\r\n\t}\r\n\r\n\t.scbg {\r\n\t\tposition: absolute;\r\n\t\ttop: 20rpx;\r\n\t\tright: 20rpx;\r\n\t\twidth: 46rpx;\r\n\t\theight: 46rpx;\r\n\t\tline-height: 46rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #999;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 26rpx;\r\n\t\t/* display: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center; */\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.goodsImg {\r\n\t\twidth: 140rpx;\r\n\t\theight: 140rpx;\r\n\t\t/* border: 1px solid #d2d2d2; */\r\n\t\tmargin-right: 22rpx;\r\n\t}\r\n\r\n\t.xuanze {\r\n\t\t/* width: 30rpx;\r\n\t\theight: 30rpx; */\r\n\t\t/* padding: 0 30rpx; */\r\n\t\tpadding-right: 20upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tflex: none;\r\n\t}\r\n\r\n\t.xuanze1 {\r\n\t\twidth: 34rpx;\r\n\t\theight: 34rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tflex: none;\r\n\t}\r\n\t.xuanze1 text{\r\n\t\tfont-size: 34upx;\r\n\t}\r\n\t.xuanze2 {\r\n\t\tborder: 0;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.goodsinr {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.goodsname {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #222;\r\n\t\tpadding-right: 20rpx;\r\n\t\tmargin-bottom: 15rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: -webkit-box !important;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tword-break: break-all;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp: 1;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.goodsname1 {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #999;\r\n\t\tpadding-right: 20rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\t/* display:-webkit-box !important;  \r\n\t\toverflow:hidden;\r\n\t\ttext-overflow:ellipsis;\r\n\t\tword-break:break-all;\r\n\t\t-webkit-box-orient:vertical;\r\n\t\t-webkit-line-clamp:2; */\r\n\t}\r\n\r\n\t.goodsname1 text {\r\n\t\tmargin-right: 8upx;\r\n\t}\r\n\r\n\t.goodspri {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #F4691A;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.scx {\r\n\t\ttext-decoration: line-through;\r\n\t}\r\n\r\n\t.goodspri1 {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #F4691A;\r\n\t\tfont-weight: bold;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.goods2 {\r\n\t\twidth: 100%;\r\n\t\tpadding: 20rpx 28rpx 28rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.goods2tit {\r\n\t\twidth: 100%;\r\n\t\tline-height: 45rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t/*步进器*/\r\n\t.steppera {\r\n\t\twidth: 148rpx;\r\n\t\theight: 45rpx;\r\n\t\tborder: 1px solid #dcdcdc;\r\n\t\tdisplay: flex;\r\n\t\toverflow: hidden;\r\n\t\talign-items: center;\r\n\t\tcolor: #222;\r\n\t}\r\n\r\n\t.steppera .vanipt {\r\n\t\twidth: 60rpx;\r\n\t\theight: 40rpx;\r\n\t\tmax-height: 0;\r\n\t\tline-height: 40rpx;\r\n\t\tborder-left: 1px solid #dcdcdc;\r\n\t\tborder-right: 1px solid #dcdcdc;\r\n\t\tborder-bottom: 0;\r\n\t\tborder-top: 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin: 0;\r\n\t\ttext-align: center;\r\n\t\tdisplay: flex;\r\n\t\t/* align-items: center; */\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 24upx;\r\n\t}\r\n\r\n\t.steppera .vantjia,\r\n\t.steppera .vantjian {\r\n\t\twidth: 45rpx;\r\n\t\theight: 43rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin: 0;\r\n\t\ttext-align: center;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 40rpx;\r\n\t\tline-height: 40rpx;\r\n\t\tjustify-content: center;\r\n\t\tcolor: #222;\r\n\t\tfont-weight: 100;\r\n\t}\r\n\t\r\n\t\r\n\t.pl_bbox {\r\n\t\twidth: 100%;\r\n\t\tpadding-top: 20upx;\r\n\t\tpadding-bottom: 30upx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tbackground: #FFFFFF;\r\n\t\tz-index: 100;\r\n\t\tbox-shadow: 0px -3upx 10upx 0px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\t\r\n\t\r\n\t.xq_cz {\r\n\t\twidth: 100%;\r\n\t\theight: 96upx;\r\n\t\r\n\t\tpadding: 1upx 30upx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t\r\n\t.selecAll{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.selecAll .all{\r\n\t\tmargin-right: 20upx;\r\n\t}\r\n\t.hj_pri{\r\n\t\tfont-size: 28upx;\r\n\t\tcolor: #222;\r\n\t\tmargin-right: 30upx;\r\n\t}\r\n\t.hj_pri text{\r\n\t\tcolor: #F4691A;\r\n\t}\r\n\t.jiesuan{\r\n\t\twidth: 100%;\r\n\t\theight: 80upx;\r\n\t\tbackground: #11A078;\r\n\t\tborder-radius: 40upx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 24upx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tmargin-left: 10upx;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bus_add_goods.vue?vue&type=style&index=0&id=6081865f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../rj/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bus_add_goods.vue?vue&type=style&index=0&id=6081865f&scoped=true&lang=css&\""],"sourceRoot":""}